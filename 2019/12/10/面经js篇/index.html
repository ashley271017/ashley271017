<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  
  <title>面经js篇 | Ashley&#39;s blog</title>
  
  

  

  <meta name="HandheldFriendly" content="True" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <!-- meta -->
  

  <!-- link -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-waves@0.7.6/dist/waves.min.css">
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.10.1/css/all.min.css">
  

  
  <link rel="manifest" href="/manifest.json">
  
    
<link rel="stylesheet" href="/style.css">

  

  <script>
    function setLoadingBarProgress(num) {
      document.getElementById('loading-bar').style.width=num+"%";
    }
  </script>

  
  
</head>

<body>
  
  
  <div class="cover-wrapper">
    <cover class='cover post half'>
      
        
  <h1 class='title'>Ashley's blog</h1>


  <div class="m_search">
    <form name="searchform" class="form u-search-form">
      <input type="text" class="input u-search-input" placeholder="" />
      <i class="icon fas fa-search fa-fw"></i>
    </form>
  </div>

<div class='menu navgation'>
  <ul class='h-list'>
    
      
        <li>
          <a class="nav home" href="/"
            
            
            id="ashley271017.github.io">
            <i class='fas fa-rss fa-fw'></i>&nbsp;博文
          </a>
        </li>
      
        <li>
          <a class="nav home" href="/collect/"
            
              rel="nofollow"
            
            
            id="ashley271017.github.iocollect">
            <i class='fas fa-link fa-fw'></i>&nbsp;收藏
          </a>
        </li>
      
        <li>
          <a class="nav home" href="/about/"
            
              rel="nofollow"
            
            
            id="ashley271017.github.ioabout">
            <i class='fas fa-info-circle fa-fw'></i>&nbsp;关于
          </a>
        </li>
      
    
  </ul>
</div>

      
    </cover>
    <header class="l_header pure">
  <div id="loading-bar-wrapper">
    <div id="loading-bar" class="pure"></div>
  </div>

	<div class='wrapper'>
		<div class="nav-main container container--flex">
      <a class="logo flat-box" href='/' >
        
          Ashley's blog
        
      </a>
			<div class='menu navgation'>
				<ul class='h-list'>
          
  					
  						<li>
								<a class="nav flat-box" href="/"
                  
                  
                  id="ashley271017.github.io">
									<i class='fas fa-grin fa-fw'></i>&nbsp;示例
								</a>
							</li>
      			
  						<li>
								<a class="nav flat-box" href="/blog/category/"
                  
                    rel="nofollow"
                  
                  
                  id="ashley271017.github.ioblogcategory">
									<i class='fas fa-folder-open fa-fw'></i>&nbsp;分类
								</a>
							</li>
      			
  						<li>
								<a class="nav flat-box" href="/blog/tags/"
                  
                    rel="nofollow"
                  
                  
                  id="ashley271017.github.ioblogtags">
									<i class='fas fa-hashtag fa-fw'></i>&nbsp;标签
								</a>
							</li>
      			
      		
				</ul>
			</div>

			
				<div class="m_search">
					<form name="searchform" class="form u-search-form">
						<input type="text" class="input u-search-input" placeholder="Search" />
						<i class="icon fas fa-search fa-fw"></i>
					</form>
				</div>
			
			<ul class='switcher h-list'>
				
					<li class='s-search'><a class="fas fa-search fa-fw" href='javascript:void(0)'></a></li>
				
				<li class='s-menu'><a class="fas fa-bars fa-fw" href='javascript:void(0)'></a></li>
			</ul>
		</div>

		<div class='nav-sub container container--flex'>
			<a class="logo flat-box"></a>
			<ul class='switcher h-list'>
				<li class='s-comment'><a class="flat-btn fas fa-comments fa-fw" href='javascript:void(0)'></a></li>
        
          <li class='s-toc'><a class="flat-btn fas fa-list fa-fw" href='javascript:void(0)'></a></li>
        
			</ul>
		</div>
	</div>
</header>
	<aside class="menu-phone">
    <header>
		<nav class="menu navgation">
      <ul>
        
          
            <li>
							<a class="nav flat-box" href="/"
                
                
                id="ashley271017.github.io">
								<i class='fas fa-clock fa-fw'></i>&nbsp;近期文章
							</a>
            </li>
          
            <li>
							<a class="nav flat-box" href="/friends/"
                
                  rel="nofollow"
                
                
                id="ashley271017.github.iofriends">
								<i class='fas fa-link fa-fw'></i>&nbsp;我的友链
							</a>
            </li>
          
       
      </ul>
		</nav>
    </header>
	</aside>
<script>setLoadingBarProgress(40);</script>

  </div>


  <div class="l_body">
    <div class='body-wrapper'>
      <div class='l_main'>
  

  
    <article id="post" class="post white-box article-type-post" itemscope itemprop="blogPost">
      


  <section class='meta'>
    
    <div class="meta" id="header-meta">
      
        
  
    <h1 class="title">
      <a href="/2019/12/10/%E9%9D%A2%E7%BB%8Fjs%E7%AF%87/">
        面经js篇
      </a>
    </h1>
  


      
      <div class='new-meta-box'>
        
          
        
          
            
  <div class='new-meta-item author'>
    <a href="https://earnest1997.github.io" rel="nofollow">
      
        <i class="fas fa-user" aria-hidden="true"></i>
      
      <p>Ashley</p>
    </a>
  </div>


          
        
          
            <div class="new-meta-item date">
  <a class='notlink'>
    <i class="fas fa-calendar-alt" aria-hidden="true"></i>
    <p>2019-12-10</p>
  </a>
</div>

          
        
          
            

          
        
          
            
  
    <div class="new-meta-item browse busuanzi">
      <a class='notlink'>
        <i class="fas fa-eye" aria-hidden="true"></i>
        <p>
          <span id="busuanzi_value_page_pv">
            <i class="fas fa-spinner fa-spin fa-fw" aria-hidden="true"></i>
          </span>
        </p>
      </a>
    </div>
  


          
        
          
            

          
        
      </div>
      
        <a title='面经js篇' href='/2019/12/10/%E9%9D%A2%E7%BB%8Fjs%E7%AF%87/'><img class='thumbnail' src='/images/post/30.jpg'></a>
      
      
        <hr>
      
    </div>
  </section>


      <section class="article typo">
        <div class="article-entry" itemprop="articleBody">
          <h2 id="原生-js"><a href="#原生-js" class="headerlink" title="原生 js"></a>原生 js</h2><h3 id="typeof的原理"><a href="#typeof的原理" class="headerlink" title="typeof的原理"></a><code>typeof</code>的原理</h3><p>js 在底层存储变量的时候，会在变量的机器码的低位 1-3 位存储其类型信息 👉</p>
<blockquote>
<p>000：对象<br>010：浮点数<br>100：字符串<br>110：布尔<br>1：整数</p>
</blockquote>
<p>but, 对于 undefined 和 null 来说，这两个值的信息存储是有点特殊的。<br>null：所有机器码均为 0<br>undefined：用 −2^30 整数来表示<br>所以，typeof 在判断 null 的时候就出现问题了，由于 null 的所有机器码均为 0，因此直接被当做了对象来看待。</p>
<h3 id="instanceof的原理"><a href="#instanceof的原理" class="headerlink" title="instanceof的原理"></a><code>instanceof</code>的原理</h3><p>通过判断右边的变量的<code>prototype</code>是否在左边的变量的原型链上</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">myInstanceOf</span>(<span class="params">leftVal, rightVal</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> rightProto = rightVal.<span class="property"><span class="keyword">prototype</span></span></span><br><span class="line">  <span class="keyword">let</span> leftCopy = leftVal.<span class="property">__proto__</span></span><br><span class="line">  <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (leftCopy === <span class="literal">null</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (leftCopy === rightProto) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">    leftCopy = leftCopy.<span class="property">__proto__</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="生成指定范围内的随机数"><a href="#生成指定范围内的随机数" class="headerlink" title="生成指定范围内的随机数"></a>生成指定范围内的随机数</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">RandomNum</span> (min, max) &#123;</span><br><span class="line">  <span class="keyword">let</span> range = max - min</span><br><span class="line">  <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>()*range) + min</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="null-undefined-的区别"><a href="#null-undefined-的区别" class="headerlink" title="null undefined 的区别"></a>null undefined 的区别</h3><p>前者是一个特殊的对象 不会被垃圾回收机制回收 前者转换成数字是 0 后者是 NaN</p>
<h3 id="函数参数是按值传递-为什么传一个对象进去-函数内部的修改会影响该对象"><a href="#函数参数是按值传递-为什么传一个对象进去-函数内部的修改会影响该对象" class="headerlink" title="函数参数是按值传递 为什么传一个对象进去 函数内部的修改会影响该对象"></a>函数参数是按值传递 为什么传一个对象进去 函数内部的修改会影响该对象</h3><p>传的是是栈内数据的拷贝<br>简单数据类型传的是 值本身 （因为直接把值存在栈内）<br>复杂数据类型传的是 对象在内存里面的地址 （因为复杂对象存在堆内，所以在栈里存对象所在的堆地址）</p>
<h3 id="你觉得jQuery或zepto源码有哪些写的好的地方"><a href="#你觉得jQuery或zepto源码有哪些写的好的地方" class="headerlink" title="你觉得jQuery或zepto源码有哪些写的好的地方"></a>你觉得jQuery或zepto源码有哪些写的好的地方</h3><p>jquery源码封装在一个匿名函数的自执行环境中，有助于防止变量的全局污染，然后通过传入window对象参数，可以使window对象作为局部变量使用，好处是当jquery中访问window对象的时候，就不用将作用域链退回到顶层作用域了，从而可以更快的访问window对象。同样，传入undefined参数，可以缩短查找undefined时的作用域链。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">function</span>(<span class="params"> <span class="variable language_">window</span>, <span class="literal">undefined</span> </span>) &#123;</span><br><span class="line"></span><br><span class="line">     <span class="comment">//用一个函数域包起来，就是所谓的沙箱</span></span><br><span class="line"></span><br><span class="line">     <span class="comment">//在这里边var定义的变量，属于这个函数域内的局部变量，避免污染全局</span></span><br><span class="line"></span><br><span class="line">     <span class="comment">//把当前沙箱需要的外部变量通过函数参数引入进来</span></span><br><span class="line"></span><br><span class="line">     <span class="comment">//只要保证参数对内提供的接口的一致性，你还可以随意替换传进来的这个参数</span></span><br><span class="line"></span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">jQuery</span> = <span class="variable language_">window</span>.<span class="property">$</span> = jQuery;</span><br><span class="line"></span><br><span class="line">&#125;)( <span class="variable language_">window</span> );</span><br></pre></td></tr></table></figure>

<h3 id="虚拟dom"><a href="#虚拟dom" class="headerlink" title="虚拟dom"></a>虚拟dom</h3><ul>
<li><p>为什么直接操作dom耗时<br>v8 binding会将原生的dom对象（比如document.a)映射成包装的js对象，所以执行<code>document.a=。。。</code>很快<br>但是<code>document.title=。。。</code>很慢是因为修改title的时候同时也修改了 DOM 对象的 attributes<br>此外很多时候操作dom都会引起重绘与回流 并且很多dom api的读写都会设计页面布局的重新计算以确保返回值的准确</p>
</li>
<li><p>虚拟dom不快 为什么react快</p>
<blockquote>
<p>React is fast because it only manipulates the DOM as much as it needs to,Updating changes is much faster than re-building the entire DOM tree from scratch. It’s able to do this because it keeps the virtual DOM representation from the last time we updated or rendered our component in memory. It then compares the two versions and updates the changes.</p>
</blockquote>
</li>
</ul>
<blockquote>
<p>React Virtual DOM is an object,<br>when we create an webpage browser create dom in a tree manner. to find the changes in two different trees &gt;time complexity is O(n^3) but REACT DIFF algorithm can able to do it in O(n) time by using keys of each node.that is why react is faster</p>
</blockquote>
<ul>
<li>为什么虚拟dom性能更好<blockquote>
<p>传统MVC框架,如backbone,它是将某个模板编译成模板函数,需要更新时,是自己手动将数据整体传入模板函数, 得到一个字符串,使用innerHTML刷新某个容器!注意,这里其实可以优化,但由于是手动,是体力活,都是使用很粗放型的innerhTML了事 (使用jQuery的html方法性能会更差,不过好处是它处理了IE下的innerHTML BUG及全平台的无法执行内部的script标签的BUG) 由于整体替换,一下子销毁这么多元素(有时还绑着事件,可能导致GC出问题),又要插入这么多元素,再重新绑定事件(这个可以使用事件代理缓解) 因此性能非常差</p>
</blockquote>
</li>
</ul>
<blockquote>
<p>knockout那样, 使用时让用户痛苦一些,使用可同步视图的东西用函数(wrapper)包裹起来, 刷新视图,就只需要重新调用这个wrapper.现在所有新的MVVM都是从ko那里学到依赖收集. 这个wraper会通知其依赖的wrapper,通过极其痛苦晦涩的方式进入事件总线, 执行视图刷新函数. knockout是使用闭包用到极致的库,显然这样做性能也很差.</p>
</blockquote>
<blockquote>
<p>最后react, 首先使用编译手段(jsx的虚拟DOM转换), 将这部分消耗能提前释放出去, 不过将字符串(jsx模板)转换为一个个JS对象,也占不了多少内存. 然后是数据发生变动时, 由于数据变动都是需要用setState方法,因此兼容性很好, 少了Object.defineProperty或wrapper的消耗,然后对应数据通过render转换成字符串,字符串再转换虚拟DOM树 先后虚拟DOM进行比较, 更新视图.</p>
</blockquote>
<blockquote>
<p>react是面向组件设计, 一个组件就是一个密封舱, 很少会对所有虚拟DOM进行比较, 由于强制使用单向流动, 减少每次变动需要的diff. 没有绑定对象与wrapper的内存占用高的问题.</p>
</blockquote>
<h3 id="实现函数柯里化"><a href="#实现函数柯里化" class="headerlink" title="实现函数柯里化"></a>实现函数柯里化</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">curry</span>(<span class="params">f</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> context = <span class="variable language_">this</span></span><br><span class="line">  <span class="keyword">let</span> args = []</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params">...arg</span>) &#123;</span><br><span class="line">    args = args.<span class="title function_">concat</span>(arg)</span><br><span class="line">    <span class="keyword">if</span> (arg.<span class="property">length</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="variable language_">arguments</span>.<span class="property">callee</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> f.<span class="title function_">apply</span>(context, arg)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="arguments-callee-与arguments-caller的区别"><a href="#arguments-callee-与arguments-caller的区别" class="headerlink" title="arguments.callee 与arguments.caller的区别"></a><code>arguments.callee</code> 与<code>arguments.caller</code>的区别</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">f</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// arguments.callee : [Function:f]</span></span><br><span class="line">  <span class="comment">//  arguments.caller : [Function:g]</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">g</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="title function_">f</span>()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="类数组对象有哪些"><a href="#类数组对象有哪些" class="headerlink" title="类数组对象有哪些"></a>类数组对象有哪些</h3><p>具有length属性的并且能使用索引访问的 比如arguments dom相关的数据结构 localstorage sesstionstorage..</p>
<h3 id="函数提升跟变量提升"><a href="#函数提升跟变量提升" class="headerlink" title="函数提升跟变量提升"></a>函数提升跟变量提升</h3><p>函数声明的优先级最高，会被提升至当前作用域最顶端</p>
<h3 id="实现深拷贝"><a href="#实现深拷贝" class="headerlink" title="实现深拷贝"></a>实现深拷贝</h3><h3 id="循环递归实现"><a href="#循环递归实现" class="headerlink" title="循环递归实现"></a>循环递归实现</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;mary&#x27;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">20</span>,</span><br><span class="line">  <span class="attr">friend</span>: &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;哈哈&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">19</span>,</span><br><span class="line">    <span class="attr">hobby</span>: <span class="string">&#x27;eat&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">deep</span>(<span class="params">obj</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> newobj = &#123;&#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">    <span class="comment">// 此处遍历的key包括了实例对象和它原型的属性，所以要用hasOwnProperty进行筛选(node环境不会，浏览器环境会列举原型属性)</span></span><br><span class="line">    <span class="keyword">if</span> (obj.<span class="title function_">hasOwnProperty</span>(key)) &#123;</span><br><span class="line">      <span class="comment">// 如果是基本类型则进行复制</span></span><br><span class="line">      <span class="keyword">if</span> (</span><br><span class="line">        <span class="keyword">typeof</span> obj[key] === <span class="string">&#x27;number&#x27;</span> ||</span><br><span class="line">        <span class="keyword">typeof</span> obj[key] === <span class="string">&#x27;string&#x27;</span> ||</span><br><span class="line">        <span class="keyword">typeof</span> obj[key] === <span class="string">&#x27;boolean&#x27;</span> ||</span><br><span class="line">        obj[key] === <span class="literal">undefined</span> ||</span><br><span class="line">        obj[key] === <span class="literal">null</span></span><br><span class="line">      ) &#123;</span><br><span class="line">        newobj[key] = obj[key]</span><br><span class="line">        <span class="comment">// 如果不是则为array或者object,仍然需要深层次的递归复制</span></span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        newobj[key] = <span class="title function_">deep</span>(obj[key])</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> newobj</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="load-事件与-DOMContentLoaded-事件-document-ready"><a href="#load-事件与-DOMContentLoaded-事件-document-ready" class="headerlink" title="load 事件与 DOMContentLoaded 事件,$(document).ready()"></a>load 事件与 DOMContentLoaded 事件,$(document).ready()</h3><ul>
<li>当 DOMContentLoaded 事件触发时，仅当 DOM 加载完成，不包括样式表，图片。</li>
<li>当 onload 事件触发时，页面上所有的 DOM，样式表，脚本，图片都已经加载完成了。</li>
<li>$(document).ready()是DOM结构绘制完毕后就执行，不必等到加载完毕</li>
<li>window.onload不能同时编写多个，如果有多个window.onload方法，只会执行一个，$(document).ready()可以同时编写多个，并且都可以得到执行,$(document).ready(function(){})可以简写成$(function(){})</li>
</ul>
<h3 id="构造函数的返回值"><a href="#构造函数的返回值" class="headerlink" title="构造函数的返回值"></a>构造函数的返回值</h3><blockquote>
<p>构造函数不需要显示的返回值。使用 new 来创建对象(调用构造函数)时，如果 return 的是非对象(数字、字符串、布尔类型等)会忽而略返回值;如果 return 的是对象，则返回该对象(注：若 return null 也会忽略返回值）。</p>
</blockquote>
<h3 id="大数求和"><a href="#大数求和" class="headerlink" title="大数求和"></a>大数求和</h3><p>采用小时侯学加法时的手动计算的方法，从最低位依次相加，得到最后的结果<br>因为对于较大的数js会自动采用科学记数法的方式表示，所以参与计算的参数用字符串表示</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getSum</span>(<span class="params">d1, d2</span>) &#123;</span><br><span class="line">    <span class="comment">// 如果第一个数较大则交换两个数</span></span><br><span class="line">    <span class="keyword">if</span> (d1.<span class="property">length</span> &lt; d2.<span class="property">length</span>) &#123;</span><br><span class="line">        [d1, d2] = [d2, d1];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 将两个数转为数组形式</span></span><br><span class="line">    <span class="keyword">let</span> [arr1, arr2] = [[...d1].<span class="title function_">reverse</span>(), [...d2].<span class="title function_">reverse</span>()];</span><br><span class="line">    <span class="comment">// num用作当对应位数相加大于10时做进位</span></span><br><span class="line">    <span class="keyword">let</span> num = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// 循环arr1.length次求和</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arr1.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (arr2[i]) &#123;</span><br><span class="line">            arr1[i] = <span class="title class_">Number</span>.<span class="built_in">parseInt</span>(arr1[i]) + <span class="title class_">Number</span>.<span class="built_in">parseInt</span>(arr2[i]) + num;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            arr1[i] = <span class="title class_">Number</span>.<span class="built_in">parseInt</span>(arr1[i]) + num;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (arr1[i] &gt;= <span class="number">10</span>) &#123;</span><br><span class="line">            [arr1[i], num] = [arr1[i] % <span class="number">10</span>, <span class="number">1</span>];</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            num = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 如果最后进位为1，则结果前应加1为</span></span><br><span class="line">    <span class="keyword">if</span> (num === <span class="number">1</span>) &#123;</span><br><span class="line">        arr1[arr1.<span class="property">length</span>] = num;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 返回结果字符串</span></span><br><span class="line">    <span class="keyword">return</span> arr1.<span class="title function_">reverse</span>().<span class="title function_">join</span>(<span class="string">&#x27;&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line">args=args.<span class="title function_">concat</span>(arg)</span><br></pre></td></tr></table></figure>

<h3 id="generator函数的使用场景"><a href="#generator函数的使用场景" class="headerlink" title="generator函数的使用场景"></a>generator函数的使用场景</h3><ul>
<li>多文件上传 上传完第一组文件之后暂停执行 做其他的事情 之后再继续上传 通过返回值done属性是否为真来判断能否继续执行</li>
<li>生成具有index的enumerate结构 (返回的是iterator对象 能直接使用for in遍历，也能作为Array.from等的参数)</li>
</ul>
<h3 id="深度比较两个对象"><a href="#深度比较两个对象" class="headerlink" title="深度比较两个对象"></a>深度比较两个对象</h3><p>1.通过json.parse(json.stringify)… 相等直接返回true<br>2.object.keys.length不相等 返回false<br>3.遍历 遇到为对象的属性递归</p>
<h3 id="实现-bind"><a href="#实现-bind" class="headerlink" title="实现 bind"></a>实现 bind</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义这个方法为myBind</span></span><br><span class="line"><span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">my_bind</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> self = <span class="variable language_">this</span>, <span class="comment">// 保存原函数</span></span><br><span class="line">    context = <span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">shift</span>.<span class="title function_">call</span>(<span class="variable language_">arguments</span>), <span class="comment">// 保存需要绑定的this上下文</span></span><br><span class="line">    <span class="comment">// 上一行等价于 context = [].shift.call(arguments);</span></span><br><span class="line">    args = <span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">slice</span>.<span class="title function_">call</span>(<span class="variable language_">arguments</span>) <span class="comment">// 剩余的参数转为数组</span></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// 返回一个新函数</span></span><br><span class="line">    self.<span class="title function_">apply</span>(</span><br><span class="line">      context,</span><br><span class="line">      <span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">concat</span>.<span class="title function_">call</span>(args, <span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">slice</span>.<span class="title function_">call</span>(<span class="variable language_">arguments</span>))</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="promise的构造函数跟他的then方法是异步还是同步"><a href="#promise的构造函数跟他的then方法是异步还是同步" class="headerlink" title="promise的构造函数跟他的then方法是异步还是同步"></a>promise的构造函数跟他的then方法是异步还是同步</h3><p>promise构造函数是同步执行的，then方法因为是微任务是异步执行的</p>
<h3 id="模块化"><a href="#模块化" class="headerlink" title="模块化"></a>模块化</h3><ul>
<li>为什么要模块化<br>为了避免全局污染</li>
<li>思维导图<br><a target="_blank" rel="noopener" href="https://www.processon.com/view/link/5c8409bbe4b02b2ce492286a#map">https://www.processon.com/view/link/5c8409bbe4b02b2ce492286a#map</a></li>
</ul>
<h3 id="js类型转换"><a href="#js类型转换" class="headerlink" title="js类型转换"></a>js类型转换</h3><ul>
<li><p>强制类型转换<br>通过 Number()、parseInt()、parseFloat()、toString()、String()、Boolean(),进行强制类型转换。</p>
</li>
<li><p>隐式类型转换<br>逻辑运算符(&amp;&amp;、 ||、 !)、运算符(+、-、*、/)、关系操作符(&gt;、 &lt;、 &lt;= 、&gt;=)、相等运算符(==)或者 if/while 的条件，可能会进行隐式类型转换。<br>关于valueof tostring<br>在数值运算里，会优先调用valueOf() 字符串运算优先调用后者</p>
</li>
</ul>
<h3 id="实现数组扁平化"><a href="#实现数组扁平化" class="headerlink" title="实现数组扁平化"></a>实现数组扁平化</h3><ul>
<li>方式一</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">;[].<span class="property">concat</span>.<span class="title function_">apply</span>([], [[<span class="number">1</span>], [<span class="number">2</span>], [<span class="number">3</span>]]) <span class="comment">// [1, 2, 3]</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>chrome 69 后数组自带 flat 方法</p>
</li>
<li><p>方式二</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">flatten</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> arr.<span class="title function_">reduce</span>(<span class="keyword">function</span>(<span class="params">prev, item</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> prev.<span class="title function_">concat</span>(<span class="title class_">Array</span>.<span class="title function_">isArray</span>(item) ? <span class="title function_">flatten</span>(item) : item)</span><br><span class="line">  &#125;, [])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>方式三</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">flatten</span>(<span class="params">arr</span>)&#123;</span><br><span class="line">    <span class="keyword">while</span>(arr.<span class="title function_">some</span>(<span class="params">item=&gt;<span class="built_in">Array</span>.isArray(item)</span>)&#123;</span><br><span class="line">        arr = [].<span class="title function_">concat</span>(...arr);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="实现-1-2-mutiple-1-2-1-4"><a href="#实现-1-2-mutiple-1-2-1-4" class="headerlink" title="实现[1,2].mutiple() = [1,2,1,4]"></a>实现<code>[1,2].mutiple() = [1,2,1,4]</code></h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">mutiple</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> tail = <span class="variable language_">this</span>.<span class="title function_">map</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> item ** <span class="number">2</span>)</span><br><span class="line">  <span class="keyword">return</span> [...<span class="variable language_">this</span>, ...tail]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="实现compose函数"><a href="#实现compose函数" class="headerlink" title="实现compose函数"></a>实现compose函数</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">compose</span>(<span class="params">...funcs</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (funcs.<span class="property">length</span> === <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="params">arg</span> =&gt;</span> arg</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (funcs.<span class="property">length</span> === <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> funcs[<span class="number">0</span>]</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> last = funcs[funcs.<span class="property">length</span> - <span class="number">1</span>]</span><br><span class="line">  <span class="keyword">const</span> rest = funcs.<span class="title function_">slice</span>(<span class="number">0</span>, -<span class="number">1</span>)</span><br><span class="line">  <span class="comment">// reduceright:将数组中每一项从右向左调用callback</span></span><br><span class="line">  <span class="keyword">return</span> <span class="function">(<span class="params">...args</span>) =&gt;</span> rest.<span class="title function_">reduceRight</span>(<span class="function">(<span class="params">composed, f</span>) =&gt;</span> <span class="title function_">f</span>(composed), <span class="title function_">last</span>(...args))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="var-a3-name-“前端开发”-var-b3-a3-a3-null-console-log-b3"><a href="#var-a3-name-“前端开发”-var-b3-a3-a3-null-console-log-b3" class="headerlink" title="var a3 = {name: “前端开发”}; var b3 = a3; a3 = null console.log(b3)?"></a>var a3 = {name: “前端开发”}; var b3 = a3; a3 = null console.log(b3)?</h3><p>// {name: “前端开发”}</p>
<h3 id="事件委托的优缺点"><a href="#事件委托的优缺点" class="headerlink" title="事件委托的优缺点"></a>事件委托的优缺点</h3><ul>
<li>优点<br>减少事件注册 减小内存</li>
<li>缺点<br>有的事件不支持冒泡</li>
</ul>
<h3 id="0-1-0-2-0-3"><a href="#0-1-0-2-0-3" class="headerlink" title="0.1+0.2!=0.3"></a>0.1+0.2!=0.3</h3><p>十进制的 0.1 和 0.2 都会被转换成二进制，但由于浮点数用二进制表达时是无穷的，例如。<br>JavaScript 代码:<br>0.1 -&gt; 0.0001100110011001…(无限)<br>0.2 -&gt; 0.0011001100110011…(无限)<br>IEEE 754 标准的 64 位双精度浮点数的小数部分最多支持 53 位二进制位，所以两者相加之后得到二进制为：<br>JavaScript 代码:<br>0.0100110011001100110011001100110011001100110011001100<br>因浮点数小数位的限制而截断的二进制数字，再转换为十进制，就成了 0.30000000000000004。所以在进行算术计算时会产生误差</p>
<h3 id="怎么设置对象的属性不能被删除？"><a href="#怎么设置对象的属性不能被删除？" class="headerlink" title="怎么设置对象的属性不能被删除？"></a>怎么设置对象的属性不能被删除？</h3><p><code>definePropperty</code>设置<code>configurable</code> false<br>why? <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/delete">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/delete</a></p>
<h3 id="addeventListener的第三个参数"><a href="#addeventListener的第三个参数" class="headerlink" title="addeventListener的第三个参数"></a>addeventListener的第三个参数</h3><p>是一个对象option,包括<code>capture, passive,once</code>选项 不支持这种写法的默认第三个参数是<code>usecapture</code></p>
<h3 id="几种判断数组类型的优缺点"><a href="#几种判断数组类型的优缺点" class="headerlink" title="几种判断数组类型的优缺点"></a>几种判断数组类型的优缺点</h3><p>instanceof不能检测来自iframe的数组。就是window.frames[xx].Array构造出来的数组<br>Array.isArray兼容性没那么好</p>
<h3 id="为什么表单能跨域"><a href="#为什么表单能跨域" class="headerlink" title="为什么表单能跨域"></a>为什么表单能跨域</h3><p>因为表单的请求一般都是提交数据 并且传统form表单提交浏览器会发生跳转 并且不需要返回响应数据 是安全的</p>
<h3 id="为什么箭头函数不能使用new操作符"><a href="#为什么箭头函数不能使用new操作符" class="headerlink" title="为什么箭头函数不能使用new操作符"></a>为什么箭头函数不能使用<code>new</code>操作符</h3><p>因为它没有自己的this与prototype 属性 ，而 new 命令在执行时需要将构造函数的 prototype 赋值给新的对象的 <strong>proto</strong></p>
<h2 id="react-相关"><a href="#react-相关" class="headerlink" title="react 相关"></a>react 相关</h2><h3 id="React-中-setState-什么时候是同步的，什么时候是异步的"><a href="#React-中-setState-什么时候是同步的，什么时候是异步的" class="headerlink" title="React 中 setState 什么时候是同步的，什么时候是异步的"></a>React 中 setState 什么时候是同步的，什么时候是异步的</h3><p>在 React 中，如果是由 React 引发的事件处理也就是合成事件（比如通过 onClick 引发的事件处理），调用 setState 不会同步更新 this.state，除此之外的 setState 调用会同步执行 this.state。所谓“除此之外”，指的是绕过 React 通过 addEventListener 直接添加的事件处理函数也就是原生事件，还有通过 setTimeout/setInterval 产生的异步调用。</p>
<p><strong>原因：</strong>在 React 的 setState 函数实现中，会根据一个变量 isBatchingUpdates 判断是直接更新 this.state 还是放到队列中回头再说，而 isBatchingUpdates 默认是 false，也就表示 setState 会同步更新 this.state，但是，有一个函数 batchedUpdates，这个函数会把 isBatchingUpdates 修改为 true，而当 React 在调用事件处理函数之前就会调用这个 batchedUpdates，造成的后果，就是由 React 控制的事件处理过程 setState 不会同步更新 this.state。</p>
<h3 id="jsx-语法为什么-需要-import-react-包"><a href="#jsx-语法为什么-需要-import-react-包" class="headerlink" title="jsx 语法为什么 需要 import react 包"></a>jsx 语法为什么 需要 import react 包</h3><p>JSX 语法只是一种语法糖，<code>babel</code>转译之后就会变成<code>React.createElement</code></p>
<h3 id="react-生命周期变更的原因"><a href="#react-生命周期变更的原因" class="headerlink" title="react 生命周期变更的原因"></a>react 生命周期变更的原因</h3><p>在 fiber 中，更新是分阶段的，具体分为两个阶段，首先是 reconciliation 的阶段，这个阶段在计算前后 dom 树的差异，然后是 commit 的阶段，这个阶段将把更新渲染到页面上。第一个阶段是可以打断的，因为这个阶段耗时可能会很长，因此需要暂停下来去执行其他更高优先级的任务，第二个阶段则不会被打断，会一口气把更新渲染到页面上。</p>
<p>由于 <code>reconciliation</code> 的阶段会被打断，可能会导致 <code>commit</code> 前的这些生命周期函数多次执行。react 官方目前已经把 <code>componentWillMount</code>、<code>componentWillReceiveProps</code> 和 <code>componetWillUpdate</code> 标记为 unsafe，并使用新的生命周期函数 <code>getDerivedStateFromProps</code> 和 <code>getSnapshotBeforeUpdate</code> 进行替换。</p>
<p>组件的渲染被分为两个阶段：第一个阶段（也叫做 render 阶段）是可以被 React 打断的，一旦被打断，这阶段所做的所有事情都被废弃，当 React 处理完紧急的事情回来，依然会重新渲染这个组件，这时候第一阶段的工作会重做一遍；第二个阶段叫做 commit 阶段，一旦开始就不能中断，也就是说第二个阶段的工作会稳稳当当地做到这个组件的渲染结束。</p>
<p>两个阶段的分界点，就是  render  函数。render 函数之前的所有生命周期函数（包括 render)都属于第一阶段，之后的都属于第二阶段。<br>render 之前的生命周期函数（也就是第一阶段生命周期函数）包括这些：</p>
<blockquote>
<p>componentWillReceiveProps<br>shouldComponentUpdate<br>componentWillUpdate<br>componentWillMount<br>render</p>
</blockquote>
<p>getDerivedStateFromProps 应该是一个纯函数，React 就是通过要求这种纯函数，强制开发者们必须适应异步渲染。</p>
<h4 id="reconciliation-阶段"><a href="#reconciliation-阶段" class="headerlink" title="reconciliation 阶段"></a>reconciliation 阶段</h4><p>虚拟 dom 的数据对比</p>
<h4 id="commit-阶段"><a href="#commit-阶段" class="headerlink" title="commit 阶段"></a>commit 阶段</h4><p>将 change list 更新到 dom 上 不适合拆分是因为使用 vdom 的意义就是为了节省耗时的 dom 操作</p>
<h3 id="生命周期"><a href="#生命周期" class="headerlink" title="生命周期"></a>生命周期</h3><p>React16.3 开启异步渲染</p>
<h4 id="新增的两个"><a href="#新增的两个" class="headerlink" title="新增的两个"></a>新增的两个</h4><ul>
<li><p>getDerivedStateFromProps<br>触发时间(v16.4 修正)：组件每次被 render 的时候，包括在组件构建之后(虚拟 dom 之后，实际 dom 挂载之前)，每次获取新的 props 或 state 之后。在 v16.3 版本时，组件 state 的更新不会触发该生命周期。<br>每次接收新的 props 之后都会返回一个对象作为新的 state，返回 null 则说明不需要更新 state.<br>配合 componentDidUpdate，可以覆盖 componentWillReceiveProps 的所有用法<br>getDerivedStateFromProps 是一个静态函数，所以函数体内不能访问 this，输出完全由输入决定。</p>
</li>
<li><p>getSnapshotBeforeUpdate</p>
</li>
</ul>
<p>触发时间: update 发生的时候，在 render 之后，在组件 dom 渲染之前。<br>返回一个值，作为 componentDidUpdate 的第三个参数。<br>配合 componentDidUpdate, 可以覆盖 componentWillUpdate 的所有用法</p>
<h4 id="setState可以接受函数为参数吗？有什么作用？"><a href="#setState可以接受函数为参数吗？有什么作用？" class="headerlink" title="setState可以接受函数为参数吗？有什么作用？"></a>setState可以接受函数为参数吗？有什么作用？</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="title function_">setState</span>(<span class="function">(<span class="params">prevState, props</span>) =&gt;</span> (&#123;</span><br><span class="line">  <span class="attr">counter</span>: prevState.<span class="property">counter</span> + props.<span class="property">increment</span></span><br><span class="line">&#125;));</span><br></pre></td></tr></table></figure>

<h4 id="关于componentDidCatch的触发时机"><a href="#关于componentDidCatch的触发时机" class="headerlink" title="关于componentDidCatch的触发时机"></a>关于<code>componentDidCatch</code>的触发时机</h4><p>componentDidCatch()<br>componentDidCatch(err, info)<br>任何子组件在渲染期间，生命周期方法中或者构造函数 constructor 发生错误时调用。</p>
<p>错误边界不会捕获下面的错误：</p>
<ul>
<li>事件处理 (Event handlers) （因为事件处理不发生在 React 渲染时，报错不影响渲染）</li>
<li>异步代码 (Asynchronous code) (e.g. setTimeout or requestAnimationFrame callbacks)</li>
<li>服务端渲染 (Server side rendering)</li>
<li>错误边界本身(而不是子组件)抛出的错误</li>
</ul>
<h4 id="补充：static-getDerivedStateFromError"><a href="#补充：static-getDerivedStateFromError" class="headerlink" title="补充：static getDerivedStateFromError"></a>补充：<code>static getDerivedStateFromError</code></h4><p>此生命周期会在后代组件抛出错误后被调用。 它将抛出的错误作为参数，并返回一个值以更新 state,可以在此生命周期中 更新 state 使下一次渲染可以显降级 UI。<br>getDerivedStateFromError() 会在渲染阶段调用，因此不允许出现副作用。 如遇此类情况，请改用 componentDidCatch()</p>
<blockquote>
<p>note: UNSAFE_componentWillMount() 在挂载之前被调用。它在 render() 之前调用，因此在此方法中同步调用 setState() 不会触发额外渲染。通常，我们建议使用 constructor() 来初始化 state。</p>
</blockquote>
<h4 id="react-router-的原理"><a href="#react-router-的原理" class="headerlink" title="react-router 的原理"></a><a target="_blank" rel="noopener" href="https://www.cnblogs.com/chenjinxinlove/p/8467744.html">react-router 的原理</a></h4><h4 id="react-router的实现原理"><a href="#react-router的实现原理" class="headerlink" title="react-router的实现原理"></a><code>react-router</code>的实现原理</h4><ul>
<li><p>createBrowserHistory: 利用 HTML5 里面的 history</p>
</li>
<li><p>createHashHistory: 通过 hash 来存储在不同状态下的 history 信息</p>
</li>
<li><p>createMemoryHistory: 在内存中进行历史记录的存储</p>
</li>
</ul>
<h4 id="link组件跟a标签的区别"><a href="#link组件跟a标签的区别" class="headerlink" title="link组件跟a标签的区别"></a>link组件跟a标签的区别</h4><p>有onclick那就执行onclick<br>click的时候阻止a标签默认事件（这样子点击<a href="/abc">123</a>就不会跳转和刷新页面）<br>再取得跳转href（即是to），用history（前端路由两种方式之一，history &amp; hash）跳转，此时只是链接变了，并没有刷新页面</p>
<h4 id="伪代码实现"><a href="#伪代码实现" class="headerlink" title="伪代码实现"></a>伪代码实现</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// createBrowserHistory(HTML5)中的前进实现</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">finishTransition</span>(<span class="params">location</span>) &#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="keyword">const</span> historyState = &#123; key &#125;;</span><br><span class="line">  ...</span><br><span class="line">  <span class="keyword">if</span> (location.<span class="property">action</span> === <span class="string">&#x27;PUSH&#x27;</span>) ) &#123;</span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">history</span>.<span class="title function_">pushState</span>(historyState, <span class="literal">null</span>, path);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">history</span>.<span class="title function_">replaceState</span>(historyState, <span class="literal">null</span>, path)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// createHashHistory的内部实现</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">finishTransition</span>(<span class="params">location</span>) &#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="keyword">if</span> (location.<span class="property">action</span> === <span class="string">&#x27;PUSH&#x27;</span>) ) &#123;</span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">hash</span> = path;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">location</span>.<span class="title function_">replace</span>(</span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">pathname</span> + <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">search</span> + <span class="string">&#x27;#&#x27;</span> + path</span><br><span class="line">  );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// createMemoryHistory的内部实现</span></span><br><span class="line">entries = [];</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">finishTransition</span>(<span class="params">location</span>) &#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="keyword">switch</span> (location.<span class="property">action</span>) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;PUSH&#x27;</span>:</span><br><span class="line">      entries.<span class="title function_">push</span>(location);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;REPLACE&#x27;</span>:</span><br><span class="line">      entries[current] = location;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="vue-相关"><a href="#vue-相关" class="headerlink" title="vue 相关"></a>vue 相关</h2><ul>
<li>为什么组件的 data 必须是一个函数<br>为了让每一个实例维护一份返回对象的独立的拷贝，这样各个组件的 data 变化的时候互不影响</li>
</ul>
<h2 id="node相关"><a href="#node相关" class="headerlink" title="node相关"></a>node相关</h2><ul>
<li>node文件查找机制<br>总体流程<br><img src="https://img-blog.csdn.net/20140518175333390?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYWFha2luZ3dpbg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="image"><br>其余的<br><img src="https://img-blog.csdn.net/20140518175420125?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYWFha2luZ3dpbg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="image"></li>
</ul>
<h3 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h3><ul>
<li><a target="_blank" rel="noopener" href="https://juejin.im/post/5b0b9b9051882515773ae714">浅谈 instanceof 和 typeof 的实现原理</a></li>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/32031325">两个大数求和</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/sisterAn/blog/issues/26">深入 setstate 机制</a></li>
<li><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000020348448">大话 react 生命周期 2019：react-v16.3 新生命周期总结</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/tangzhl/article/details/79696055">react-router 的实现原理</a></li>
<li><a target="_blank" rel="noopener" href="https://juejin.im/post/5af3cc4af265da0ba3521028">社招中级前端笔试面试题总结</a></li>
<li><a target="_blank" rel="noopener" href="https://www.quora.com/Why-is-Reacts-virtual-DOM-so-much-faster-than-the-real-DOM">Why is React’s virtual DOM so much faster than the real DOM?</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/yygmind/blog/issues/43">前端 100 问：能搞懂80%的请把简历给我</a></li>
</ul>

        </div>
        
          


  <section class='meta' id="footer-meta">
    <hr>
    <div class='new-meta-box'>
      
        
          <div class="new-meta-item date" itemprop="dateUpdated" datetime="2023-04-19T10:22:09+08:00">
  <a class='notlink'>
    <i class="fas fa-clock" aria-hidden="true"></i>
    <p>updated at Apr 19, 2023</p>
  </a>
</div>

        
      
        
          
  
  <div class="new-meta-item meta-tags"><a class="tag" href="/tags/%E9%9D%A2%E7%BB%8F/" rel="nofollow"><i class="fas fa-hashtag" aria-hidden="true"></i>&nbsp;<p>面经</p></a></div>


        
      
        
          
  <div class="new-meta-item share -mob-share-list">
  <div class="-mob-share-list share-body">
    
      
        <a class="-mob-share-qq" title="QQ好友" rel="external nofollow noopener noreferrer noopener"
          
          target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://earnest1997.github.io/2019/12/10/%E9%9D%A2%E7%BB%8Fjs%E7%AF%87/&title=面经js篇 | Ashley's blog&summary="
          
          >
          
            <img src="https://cdn.jsdelivr.net/gh/xaoxuu/assets@19.1.9/logo/128/qq.png">
          
        </a>
      
    
      
        <a class="-mob-share-qzone" title="QQ空间" rel="external nofollow noopener noreferrer noopener"
          
          target="_blank" href="https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=https://earnest1997.github.io/2019/12/10/%E9%9D%A2%E7%BB%8Fjs%E7%AF%87/&title=面经js篇 | Ashley's blog&summary="
          
          >
          
            <img src="https://cdn.jsdelivr.net/gh/xaoxuu/assets@19.1.9/logo/128/qzone.png">
          
        </a>
      
    
      
        <a class="-mob-share-weibo" title="微博" rel="external nofollow noopener noreferrer noopener"
          
          target="_blank" href="http://service.weibo.com/share/share.php?url=https://earnest1997.github.io/2019/12/10/%E9%9D%A2%E7%BB%8Fjs%E7%AF%87/&title=面经js篇 | Ashley's blog&summary="
          
          >
          
            <img src="https://cdn.jsdelivr.net/gh/xaoxuu/assets@19.1.9/logo/128/weibo.png">
          
        </a>
      
    
  </div>
</div>



        
      
    </div>
  </section>


        
        
            <div class="prev-next">
                
                    <section class="prev">
                        <span class="art-item-left">
                            <h6><i class="fas fa-chevron-left" aria-hidden="true"></i>&nbsp;Previous</h6>
                            <h4>
                                <a href="/2019/12/11/%E9%9D%A2%E7%BB%8F%E9%A1%B9%E7%9B%AE%E6%9E%84%E5%BB%BA%E7%AF%87/" rel="prev" title="面经项目构建篇">
                                  
                                      面经项目构建篇
                                  
                                </a>
                            </h4>
                            
                                
                                <h6 class="tags">
                                    <a class="tag" href="/tags/%E9%85%8D%E7%BD%AE/"><i class="fas fa-hashtag fa-fw" aria-hidden="true"></i>配置</a>
                                </h6>
                            
                        </span>
                    </section>
                
                
                    <section class="next">
                        <span class="art-item-right" aria-hidden="true">
                            <h6>Next&nbsp;<i class="fas fa-chevron-right" aria-hidden="true"></i></h6>
                            <h4>
                                <a href="/2019/12/10/2019%E5%B9%B4%E5%BA%A6%E6%80%BB%E7%BB%93/" rel="prev" title="2019年度总结">
                                    
                                        2019年度总结
                                    
                                </a>
                            </h4>
                            
                        </span>
                    </section>
                
            </div>
        
      </section>
    </article>
  

  
    <!-- 显示推荐文章和评论 -->



  <article class="post white-box comments">
    <section class="article typo">
      <h4><i class="fas fa-comments fa-fw" aria-hidden="true"></i>&nbsp;Comments</h4>
      
      
      
      
        <section id="comments">
          <div id="valine_container" class="valine_thread">
            <i class="fas fa-spinner fa-spin fa-fw"></i>
          </div>
        </section>
      
    </section>
  </article>


  




<!-- 根据页面mathjax变量决定是否加载MathJax数学公式js -->



  <script>
    window.subData = {
      title: '面经js篇',
      tools: true
    }
  </script>


</div>
<aside class='l_side'>
  
    
    
      
        
          
          
            <section class='widget author'>
  <div class='content pure'>
    
      <div class='avatar'>
        <img class='avatar' src='/images/avatar.jpeg'/>
      </div>
    
    
    
      <div class="social-wrapper">
        <!-- 
          
            <a href="https://github.com/earnest1997"
              class="social fab fa-github flat-btn"
              target="_blank"
              rel="external nofollow noopener noreferrer">
            </a>
          
         -->
        失落，是因为你总在跟别人比较
      </div>
    
  </div>
</section>

          
        
      
        
          
          
            
  <section class='widget toc-wrapper'>
    
<header class='pure'>
  <div><i class="fas fa-list fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;TOC</div>
  
    <div class='wrapper'><a class="s-toc rightBtn" rel="external nofollow noopener noreferrer" href="javascript:void(0)"><i class="fas fa-thumbtack fa-fw"></i></a></div>
  
</header>

    <div class='content pure'>
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8E%9F%E7%94%9F-js"><span class="toc-text">原生 js</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#typeof%E7%9A%84%E5%8E%9F%E7%90%86"><span class="toc-text">typeof的原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#instanceof%E7%9A%84%E5%8E%9F%E7%90%86"><span class="toc-text">instanceof的原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E6%8C%87%E5%AE%9A%E8%8C%83%E5%9B%B4%E5%86%85%E7%9A%84%E9%9A%8F%E6%9C%BA%E6%95%B0"><span class="toc-text">生成指定范围内的随机数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#null-undefined-%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-text">null undefined 的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0%E6%98%AF%E6%8C%89%E5%80%BC%E4%BC%A0%E9%80%92-%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BC%A0%E4%B8%80%E4%B8%AA%E5%AF%B9%E8%B1%A1%E8%BF%9B%E5%8E%BB-%E5%87%BD%E6%95%B0%E5%86%85%E9%83%A8%E7%9A%84%E4%BF%AE%E6%94%B9%E4%BC%9A%E5%BD%B1%E5%93%8D%E8%AF%A5%E5%AF%B9%E8%B1%A1"><span class="toc-text">函数参数是按值传递 为什么传一个对象进去 函数内部的修改会影响该对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%A0%E8%A7%89%E5%BE%97jQuery%E6%88%96zepto%E6%BA%90%E7%A0%81%E6%9C%89%E5%93%AA%E4%BA%9B%E5%86%99%E7%9A%84%E5%A5%BD%E7%9A%84%E5%9C%B0%E6%96%B9"><span class="toc-text">你觉得jQuery或zepto源码有哪些写的好的地方</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%99%9A%E6%8B%9Fdom"><span class="toc-text">虚拟dom</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E5%87%BD%E6%95%B0%E6%9F%AF%E9%87%8C%E5%8C%96"><span class="toc-text">实现函数柯里化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#arguments-callee-%E4%B8%8Earguments-caller%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-text">arguments.callee 与arguments.caller的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E6%95%B0%E7%BB%84%E5%AF%B9%E8%B1%A1%E6%9C%89%E5%93%AA%E4%BA%9B"><span class="toc-text">类数组对象有哪些</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E6%8F%90%E5%8D%87%E8%B7%9F%E5%8F%98%E9%87%8F%E6%8F%90%E5%8D%87"><span class="toc-text">函数提升跟变量提升</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E6%B7%B1%E6%8B%B7%E8%B4%9D"><span class="toc-text">实现深拷贝</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E9%80%92%E5%BD%92%E5%AE%9E%E7%8E%B0"><span class="toc-text">循环递归实现</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#load-%E4%BA%8B%E4%BB%B6%E4%B8%8E-DOMContentLoaded-%E4%BA%8B%E4%BB%B6-document-ready"><span class="toc-text">load 事件与 DOMContentLoaded 事件,$(document).ready()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E7%9A%84%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="toc-text">构造函数的返回值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%A7%E6%95%B0%E6%B1%82%E5%92%8C"><span class="toc-text">大数求和</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#generator%E5%87%BD%E6%95%B0%E7%9A%84%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-text">generator函数的使用场景</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B7%B1%E5%BA%A6%E6%AF%94%E8%BE%83%E4%B8%A4%E4%B8%AA%E5%AF%B9%E8%B1%A1"><span class="toc-text">深度比较两个对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0-bind"><span class="toc-text">实现 bind</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#promise%E7%9A%84%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E8%B7%9F%E4%BB%96%E7%9A%84then%E6%96%B9%E6%B3%95%E6%98%AF%E5%BC%82%E6%AD%A5%E8%BF%98%E6%98%AF%E5%90%8C%E6%AD%A5"><span class="toc-text">promise的构造函数跟他的then方法是异步还是同步</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%9D%97%E5%8C%96"><span class="toc-text">模块化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#js%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="toc-text">js类型转换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E6%95%B0%E7%BB%84%E6%89%81%E5%B9%B3%E5%8C%96"><span class="toc-text">实现数组扁平化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0-1-2-mutiple-1-2-1-4"><span class="toc-text">实现[1,2].mutiple() &#x3D; [1,2,1,4]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0compose%E5%87%BD%E6%95%B0"><span class="toc-text">实现compose函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#var-a3-name-%E2%80%9C%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E2%80%9D-var-b3-a3-a3-null-console-log-b3"><span class="toc-text">var a3 &#x3D; {name: “前端开发”}; var b3 &#x3D; a3; a3 &#x3D; null console.log(b3)?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6%E5%A7%94%E6%89%98%E7%9A%84%E4%BC%98%E7%BC%BA%E7%82%B9"><span class="toc-text">事件委托的优缺点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#0-1-0-2-0-3"><span class="toc-text">0.1+0.2!&#x3D;0.3</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%8E%E4%B9%88%E8%AE%BE%E7%BD%AE%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%B1%9E%E6%80%A7%E4%B8%8D%E8%83%BD%E8%A2%AB%E5%88%A0%E9%99%A4%EF%BC%9F"><span class="toc-text">怎么设置对象的属性不能被删除？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#addeventListener%E7%9A%84%E7%AC%AC%E4%B8%89%E4%B8%AA%E5%8F%82%E6%95%B0"><span class="toc-text">addeventListener的第三个参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%A0%E7%A7%8D%E5%88%A4%E6%96%AD%E6%95%B0%E7%BB%84%E7%B1%BB%E5%9E%8B%E7%9A%84%E4%BC%98%E7%BC%BA%E7%82%B9"><span class="toc-text">几种判断数组类型的优缺点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A1%A8%E5%8D%95%E8%83%BD%E8%B7%A8%E5%9F%9F"><span class="toc-text">为什么表单能跨域</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0%E4%B8%8D%E8%83%BD%E4%BD%BF%E7%94%A8new%E6%93%8D%E4%BD%9C%E7%AC%A6"><span class="toc-text">为什么箭头函数不能使用new操作符</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#react-%E7%9B%B8%E5%85%B3"><span class="toc-text">react 相关</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#React-%E4%B8%AD-setState-%E4%BB%80%E4%B9%88%E6%97%B6%E5%80%99%E6%98%AF%E5%90%8C%E6%AD%A5%E7%9A%84%EF%BC%8C%E4%BB%80%E4%B9%88%E6%97%B6%E5%80%99%E6%98%AF%E5%BC%82%E6%AD%A5%E7%9A%84"><span class="toc-text">React 中 setState 什么时候是同步的，什么时候是异步的</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#jsx-%E8%AF%AD%E6%B3%95%E4%B8%BA%E4%BB%80%E4%B9%88-%E9%9C%80%E8%A6%81-import-react-%E5%8C%85"><span class="toc-text">jsx 语法为什么 需要 import react 包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#react-%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%8F%98%E6%9B%B4%E7%9A%84%E5%8E%9F%E5%9B%A0"><span class="toc-text">react 生命周期变更的原因</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#reconciliation-%E9%98%B6%E6%AE%B5"><span class="toc-text">reconciliation 阶段</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#commit-%E9%98%B6%E6%AE%B5"><span class="toc-text">commit 阶段</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-text">生命周期</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B0%E5%A2%9E%E7%9A%84%E4%B8%A4%E4%B8%AA"><span class="toc-text">新增的两个</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#setState%E5%8F%AF%E4%BB%A5%E6%8E%A5%E5%8F%97%E5%87%BD%E6%95%B0%E4%B8%BA%E5%8F%82%E6%95%B0%E5%90%97%EF%BC%9F%E6%9C%89%E4%BB%80%E4%B9%88%E4%BD%9C%E7%94%A8%EF%BC%9F"><span class="toc-text">setState可以接受函数为参数吗？有什么作用？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E4%BA%8EcomponentDidCatch%E7%9A%84%E8%A7%A6%E5%8F%91%E6%97%B6%E6%9C%BA"><span class="toc-text">关于componentDidCatch的触发时机</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A1%A5%E5%85%85%EF%BC%9Astatic-getDerivedStateFromError"><span class="toc-text">补充：static getDerivedStateFromError</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#react-router-%E7%9A%84%E5%8E%9F%E7%90%86"><span class="toc-text">react-router 的原理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#react-router%E7%9A%84%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86"><span class="toc-text">react-router的实现原理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#link%E7%BB%84%E4%BB%B6%E8%B7%9Fa%E6%A0%87%E7%AD%BE%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-text">link组件跟a标签的区别</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%AA%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0"><span class="toc-text">伪代码实现</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#vue-%E7%9B%B8%E5%85%B3"><span class="toc-text">vue 相关</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#node%E7%9B%B8%E5%85%B3"><span class="toc-text">node相关</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E6%96%87%E7%AB%A0"><span class="toc-text">参考文章</span></a></li></ol></li></ol>
    </div>
  </section>


          
        
      
        
          
          
            <section class='widget grid'>
  
<header class='pure'>
  <div><i class="fas fa-map-signs fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;站内导航</div>
  
</header>

  <div class='content pure'>
    <ul class="grid navgation">
      
        <li><a class="flat-box" title="/" href="/"
          
          
          id="ashley271017.github.io">
          
            <i class="fas fa-clock fa-fw" aria-hidden="true"></i>
          
          近期文章
        </a></li>
      
        <li><a class="flat-box" title="/friends/" href="/friends/"
          
            rel="nofollow"
          
          
          id="ashley271017.github.iofriends">
          
            <i class="fas fa-link fa-fw" aria-hidden="true"></i>
          
          我的友链
        </a></li>
      
    </ul>
  </div>
</section>

          
        
      
        
          
          
            
  <section class='widget category'>
    
<header class='pure'>
  <div><i class="fas fa-folder-open fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;Categories</div>
  
    <a class="rightBtn"
    
      rel="nofollow"
    
    
    href="/blog/category/"
    title="blog/category/">
    <i class="fas fa-expand-arrows-alt fa-fw"></i></a>
  
</header>

    <div class='content pure'>
      <ul class="entry">
        
          <li><a class="flat-box" title="/categories/sass/" href="/categories/sass/"><div class='name'>sass</div><div class='badge'>(1)</div></a></li>
        
          <li><a class="flat-box" title="/categories/ts/" href="/categories/ts/"><div class='name'>ts</div><div class='badge'>(1)</div></a></li>
        
          <li><a class="flat-box" title="/categories/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" href="/categories/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/"><div class='name'>性能优化</div><div class='badge'>(1)</div></a></li>
        
          <li><a class="flat-box" title="/categories/%E6%88%90%E9%95%BF/" href="/categories/%E6%88%90%E9%95%BF/"><div class='name'>成长</div><div class='badge'>(1)</div></a></li>
        
          <li><a class="flat-box" title="/categories/%E9%85%8D%E7%BD%AE/" href="/categories/%E9%85%8D%E7%BD%AE/"><div class='name'>配置</div><div class='badge'>(1)</div></a></li>
        
          <li><a class="flat-box" title="/categories/%E9%9D%A2%E7%BB%8F/" href="/categories/%E9%9D%A2%E7%BB%8F/"><div class='name'>面经</div><div class='badge'>(3)</div></a></li>
        
          <li><a class="flat-box child" title="/categories/%E9%9D%A2%E7%BB%8F/css/" href="/categories/%E9%9D%A2%E7%BB%8F/css/"><div class='name'>css</div><div class='badge'>(1)</div></a></li>
        
          <li><a class="flat-box child" title="/categories/%E9%9D%A2%E7%BB%8F/%E6%B5%8F%E8%A7%88%E5%99%A8/" href="/categories/%E9%9D%A2%E7%BB%8F/%E6%B5%8F%E8%A7%88%E5%99%A8/"><div class='name'>浏览器</div><div class='badge'>(1)</div></a></li>
        
      </ul>
    </div>
  </section>


          
        
      
        
          
          
            
  <section class='widget tagcloud'>
    
<header class='pure'>
  <div><i class="fas fa-fire fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;Hot Tags</div>
  
    <a class="rightBtn"
    
      rel="nofollow"
    
    
    href="/blog/tags/"
    title="blog/tags/">
    <i class="fas fa-expand-arrows-alt fa-fw"></i></a>
  
</header>

    <div class='content pure'>
      <a href="/tags/a2hs/" style="font-size: 14px; color: #999">a2hs</a> <a href="/tags/babel/" style="font-size: 14px; color: #999">babel</a> <a href="/tags/chromeExtension/" style="font-size: 14px; color: #999">chromeExtension</a> <a href="/tags/cicd/" style="font-size: 14px; color: #999">cicd</a> <a href="/tags/css/" style="font-size: 19px; color: #777">css</a> <a href="/tags/debug/" style="font-size: 14px; color: #999">debug</a> <a href="/tags/react/" style="font-size: 21.5px; color: #666">react</a> <a href="/tags/sass-css/" style="font-size: 14px; color: #999">sass css</a> <a href="/tags/ts/" style="font-size: 14px; color: #999">ts</a> <a href="/tags/vite/" style="font-size: 14px; color: #999">vite</a> <a href="/tags/vue/" style="font-size: 21.5px; color: #666">vue</a> <a href="/tags/vue3/" style="font-size: 14px; color: #999">vue3</a> <a href="/tags/webpack/" style="font-size: 24px; color: #555">webpack</a> <a href="/tags/%E5%8C%85%E7%AE%A1%E7%90%86/" style="font-size: 14px; color: #999">包管理</a> <a href="/tags/%E5%9F%BA%E7%A1%80%E6%8A%80%E8%83%BD/" style="font-size: 14px; color: #999">基础技能</a> <a href="/tags/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" style="font-size: 16.5px; color: #888">性能优化</a> <a href="/tags/%E6%9E%B6%E6%9E%84/" style="font-size: 14px; color: #999">架构</a> <a href="/tags/%E6%A8%A1%E5%9D%97%E8%81%94%E9%82%A6/" style="font-size: 14px; color: #999">模块联邦</a> <a href="/tags/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%AE%89%E5%85%A8/" style="font-size: 14px; color: #999">浏览器安全</a> <a href="/tags/%E7%94%9F%E6%B4%BB/" style="font-size: 14px; color: #999">生活</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 14px; color: #999">算法</a> <a href="/tags/%E7%BD%91%E7%BB%9C/" style="font-size: 14px; color: #999">网络</a> <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 14px; color: #999">设计模式</a> <a href="/tags/%E9%85%8D%E7%BD%AE/" style="font-size: 14px; color: #999">配置</a> <a href="/tags/%E9%9D%A2%E7%BB%8F/" style="font-size: 19px; color: #777">面经</a>
    </div>
  </section>


          
        
      
        
          
          
            



          
        
      
    

  
</aside>

<footer id="footer" class="clearfix">
  
  
    <div class="social-wrapper">
      
        
          <a href="https://github.com/earnest1997"
            class="social fab fa-github flat-btn"
            target="_blank"
            rel="external nofollow noopener noreferrer">
          </a>
        
      
    </div>
  
  <br>
  <div><p>Ashley © 2019-2023 鄂ICP备17030443号</p>
</div>
  <div>
    联系方式：ashley19971212@gmail.com
    <!-- 
      , 
      总浏览量
      <span id="busuanzi_value_site_pv"><i class="fas fa-spinner fa-spin fa-fw" aria-hidden="true"></i></span>
      次
     -->
    . 
  </div>
</footer>
<script>setLoadingBarProgress(80);</script>


      <script>setLoadingBarProgress(60);</script>
    </div>
    <a class="s-top fas fa-arrow-up fa-fw" href='javascript:void(0)'></a>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>

  <script>
    var GOOGLE_CUSTOM_SEARCH_API_KEY = "";
    var GOOGLE_CUSTOM_SEARCH_ENGINE_ID = "";
    var ALGOLIA_API_KEY = "";
    var ALGOLIA_APP_ID = "";
    var ALGOLIA_INDEX_NAME = "";
    var AZURE_SERVICE_NAME = "";
    var AZURE_INDEX_NAME = "";
    var AZURE_QUERY_KEY = "";
    var BAIDU_API_ID = "";
    var SEARCH_SERVICE = "hexo" || "hexo";
    var ROOT = "/"||"/";
    if(!ROOT.endsWith('/'))ROOT += '/';
  </script>

<script src="//instant.page/1.2.2" type="module" integrity="sha384-2xV8M5griQmzyiY3CDqh1dn4z3llDVqZDqzjzcY+jCBCk/a5fXJmuZ/40JJAPeoU"></script>


  <script async src="https://cdn.jsdelivr.net/npm/scrollreveal@4.0.5/dist/scrollreveal.min.js"></script>
  <script type="text/javascript">
    $(function() {
      const $reveal = $('.reveal');
      if ($reveal.length === 0) return;
      const sr = ScrollReveal({ distance: 0 });
      sr.reveal('.reveal');
    });
  </script>


  <script src="https://cdn.jsdelivr.net/npm/node-waves@0.7.6/dist/waves.min.js"></script>
  <script type="text/javascript">
    $(function() {
      Waves.attach('.flat-btn', ['waves-button']);
      Waves.attach('.float-btn', ['waves-button', 'waves-float']);
      Waves.attach('.float-btn-light', ['waves-button', 'waves-float', 'waves-light']);
      Waves.attach('.flat-box', ['waves-block']);
      Waves.attach('.float-box', ['waves-block', 'waves-float']);
      Waves.attach('.waves-image');
      Waves.init();
    });
  </script>


  <script async src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-busuanzi@2.3/js/busuanzi.pure.mini.js"></script>




  
  
  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-backstretch/2.0.4/jquery.backstretch.min.js"></script>
    <script type="text/javascript">
      $(function(){
        if ('.cover') {
          $('.cover').backstretch(
          ["/images/bg.jpg"],
          {
            duration: "6000",
            fade: "2500"
          });
        } else {
          $.backstretch(
          ["/images/bg.jpg"],
          {
            duration: "6000",
            fade: "2500"
          });
        }
      });
    </script>
  









  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  
    
      
<script src="https://cdn.jsdelivr.net/gh/xaoxuu/volantis@1.0.5/js/volantis.min.js"></script>

    
  
  <script>
  var GUEST_INFO = ['nick','mail','link'];
  var guest_info = 'nick,mail,link'.split(',').filter(function(item){
    return GUEST_INFO.indexOf(item) > -1
  });
  var notify = 'true' == true;
  var verify = 'true' == true;
  var valine = new Valine();
  valine.init({
    el: '#valine_container',
    notify: notify,
    verify: verify,
    guest_info: guest_info,
    
    appId: "vu5VJ9hGtTUPkCsBP1ItVzg9-gzGzoHsz",
    appKey: "HfSu2jw0KjCyYYMydHTCArO2",
    placeholder: "ヾﾉ≧∀≦)o来啊，快活啊!",
    pageSize:'10',
    avatar:'mp',
    lang:'zh-cn',
    highlight:'true'
  })
  </script>



  
<script src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-material-x@19.8/js/app.js"></script>



  
<script src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-material-x@19.8/js/search.js"></script>





<!-- 复制 -->
<script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<script>
  let COPY_SUCCESS = "Copied";
  let COPY_FAILURE = "Copy failed";
  /*页面载入完成后，创建复制按钮*/
  !function (e, t, a) {
    /* code */
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '  <i class="fa fa-copy"></i><span>Copy</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });

      clipboard.on('success', function(e) {
        //您可以加入成功提示
        console.info('Action:', e.action);
        console.info('Text:', e.text);
        console.info('Trigger:', e.trigger);
        success_prompt(COPY_SUCCESS);
        e.clearSelection();
      });
      clipboard.on('error', function(e) {
        //您可以加入失败提示
        console.error('Action:', e.action);
        console.error('Trigger:', e.trigger);
        fail_prompt(COPY_FAILURE);
      });
    }
    initCopyCode();

  }(window, document);

  /**
   * 弹出式提示框，默认1.5秒自动消失
   * @param message 提示信息
   * @param style 提示样式，有alert-success、alert-danger、alert-warning、alert-info
   * @param time 消失时间
   */
  var prompt = function (message, style, time)
  {
      style = (style === undefined) ? 'alert-success' : style;
      time = (time === undefined) ? 1500 : time*1000;
      $('<div>')
          .appendTo('body')
          .addClass('alert ' + style)
          .html(message)
          .show()
          .delay(time)
          .fadeOut();
  };

  // 成功提示
  var success_prompt = function(message, time)
  {
      prompt(message, 'alert-success', time);
  };

  // 失败提示
  var fail_prompt = function(message, time)
  {
      prompt(message, 'alert-danger', time);
  };

  // 提醒
  var warning_prompt = function(message, time)
  {
      prompt(message, 'alert-warning', time);
  };

  // 信息提示
  var info_prompt = function(message, time)
  {
      prompt(message, 'alert-info', time);
  };

</script>


<!-- fancybox -->
<script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>
<script>
  let LAZY_LOAD_IMAGE = "";
  $(".article-entry").find("fancybox").find("img").each(function () {
      var element = document.createElement("a");
      $(element).attr("data-fancybox", "gallery");
      $(element).attr("href", $(this).attr("src"));
      /* 图片采用懒加载处理时,
       * 一般图片标签内会有个属性名来存放图片的真实地址，比如 data-original,
       * 那么此处将原本的属性名src替换为对应属性名data-original,
       * 修改如下
       */
       if (LAZY_LOAD_IMAGE) {
         $(element).attr("href", $(this).attr("data-original"));
       }
      $(this).wrap(element);
  });
</script>





  <script>setLoadingBarProgress(100);</script>
</body>
</html>
